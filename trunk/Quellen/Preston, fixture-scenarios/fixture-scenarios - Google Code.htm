<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>


 <script type="text/javascript">
 
 
 
 var codesite_token = "b3291a597d7049b38a6bb44a45ba3e7a";
 
 
 userProfileUrl = '/u/grosser.michael/';
 
 </script>
 <title>
 fixture-scenarios -
 
 Google Code</title>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 
 <link type="text/css" rel="stylesheet" href="fixture-scenarios%20-%20Google%20Code_files/d_20081117.css">
 
 
 
<!--[if IE]>
 <link type="text/css" rel="stylesheet" href="http://www.gstatic.com/codesite/ph/969254271741402528/css/d_ie.css" >
<![endif]-->
<script type="text/javascript" src="fixture-scenarios%20-%20Google%20Code_files/ga.js"></script></head><body class="t1">
 <div id="gaia">
 
 <span>
 
 <b>grosser.michael@gmail.com</b>
 
 | <a href="http://code.google.com/p/support/wiki/WhatsNew" style="color: rgb(170, 0, 51);">What's new?</a>
 | <a href="http://code.google.com/u/grosser.michael/">Profile</a>
 
 | <a href="http://code.google.com/u/grosser.michael/" id="projects-dropdown" onclick="return false;">My projects</a><img src="fixture-scenarios%20-%20Google%20Code_files/cleardot.gif" class="menuIcon off instance0" width="14" height="14">
 
 | <a href="http://code.google.com/hosting/settings">Settings</a>
 | <a href="http://code.google.com/p/support/">Help</a>
 | <a href="http://www.google.com/accounts/Logout?continue=http%3A%2F%2Fcode.google.com%2Fp%2Ffixture-scenarios%2F">Sign out</a>
 
 </span>

 </div>
 <div class="gbh" style="left: 0pt;"></div>
 <div class="gbh" style="right: 0pt;"></div>
 
 
 <div style="height: 1px;"></div>
 <table style="margin: 20px 0px 0px; padding: 0px; width: 100%;" cellpadding="0" cellspacing="0">
 <tbody><tr>
 <td style="width: 153px; text-align: center;">
 <a href="http://code.google.com/">
 
 <img src="fixture-scenarios%20-%20Google%20Code_files/code_sm.png" alt="Google" width="153" height="55">
 
 </a>
 </td>
 <td style="padding-left: 0.8em;">
 
 <div id="pname" style="margin: 0px 0px -3px;">
 <a href="http://code.google.com/p/fixture-scenarios/" style="text-decoration: none; color: rgb(0, 0, 0);">fixture-scenarios</a>
 </div>
 <div id="psum">
 <i><a id="project_summary_link" href="http://code.google.com/p/fixture-scenarios/" style="text-decoration: none; color: rgb(0, 0, 0);">Ruby on Rails plugin to add the concept of scenarios to fixtures.</a></i>
 </div>
 
 </td>
 <td style="white-space: nowrap; text-align: right;">
 
 <form action="/hosting/search">
 <input size="30" name="q" value="">
 <input name="projectsearch" value="Search Projects" type="submit">
 </form>
 
 </td></tr>
 </tbody></table>


<table id="mt" border="0" cellpadding="0" cellspacing="0" width="100%">
 <tbody><tr>
 <th onclick="if (!cancelBubble) _go('/p/fixture-scenarios/');">
 <div class="tab active">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <a onclick="cancelBubble=true;" href="http://code.google.com/p/fixture-scenarios/">Project&nbsp;Home</a>
 </div>
 </div>
 </th><td>&nbsp;&nbsp;</td>
 
 
 
 
 <th onclick="if (!cancelBubble) _go('/p/fixture-scenarios/downloads/list');">
 <div class="tab inactive">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <a onclick="cancelBubble=true;" href="http://code.google.com/p/fixture-scenarios/downloads/list">Downloads</a>
 </div>
 </div>
 </th><td>&nbsp;&nbsp;</td>
 
 
 
 
 
 <th onclick="if (!cancelBubble) _go('/p/fixture-scenarios/w/list');">
 <div class="tab inactive">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <a onclick="cancelBubble=true;" href="http://code.google.com/p/fixture-scenarios/w/list">Wiki</a>
 </div>
 </div>
 </th><td>&nbsp;&nbsp;</td>
 
 
 
 
 
 <th onclick="if (!cancelBubble) _go('/p/fixture-scenarios/issues/list');">
 <div class="tab inactive">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <a onclick="cancelBubble=true;" href="http://code.google.com/p/fixture-scenarios/issues/list">Issues</a>
 </div>
 </div>
 </th><td>&nbsp;&nbsp;</td>
 
 
 
 
 
 <th onclick="if (!cancelBubble) _go('/p/fixture-scenarios/source/checkout');">
 <div class="tab inactive">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <a onclick="cancelBubble=true;" href="http://code.google.com/p/fixture-scenarios/source/checkout">Source</a>
 </div>
 </div>
 </th><td>&nbsp;&nbsp;</td>
 
 
 <td width="100%">&nbsp;</td>
 </tr>
</tbody></table>
<table class="st" align="center" border="0" cellpadding="0" cellspacing="0" width="100%">
 <tbody><tr>
 
 
 
 
 
 
 
 
 <td>
 
<style type="text/css">
 .project-summary-page .inProjectSummary a,
 .project-updates-page .inProjectUpdates a {
 font-weight: bold;
 text-decoration: none;
 color: black;
 }
</style>
<div class="project-summary-page">
 <div class="isf">
 <span class="inProjectSummary">
 <a href="http://code.google.com/p/fixture-scenarios/">Summary</a>
 </span> |
 <span class="inProjectUpdates">
 <a href="http://code.google.com/p/fixture-scenarios/updates/list">Updates</a>
 </span>
 </div>
</div>

 </td>
 
 
 
 <td class="bevel-right" align="right" valign="top" height="4">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 </td>
 </tr>
</tbody></table>
<script type="text/javascript">
 var cancelBubble = false;
 function _go(url) { document.location = url; }
</script>

<div id="maincol">
<!-- IE -->



<style type="text/css">
 #downloadbox {
 padding: 6px;
 overflow: hidden;
 white-space: nowrap;
 text-overflow: ellipsis;
 }
 #downloadbox a {
 margin: 6px 0 0 3em;
 display: block;
 padding-left: 18px;
 background: url(http://www.gstatic.com/codesite/ph/images/dl_arrow.gif) no-repeat bottom left;
 }
 #owners a, #members a { white-space: nowrap; }
</style>
<div style="margin: 0pt 0pt 1em 2em; float: right; width: 25em;">
 
 
 
 
 
 <div class="pmeta_bubble_bg">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <table class="pmeta" cellpadding="5">
 <tbody><tr>
 <td>
 <img src="fixture-scenarios%20-%20Google%20Code_files/star_off.gif" style="cursor: pointer;" onclick="_CS_toggleStar(this,
 {'scope': 'projects',
 'user': '_CURRENT_USER',
 'item': 'fixture-scenarios',
 'token': codesite_token
 },
 'star_msg',
 'Starred (\x3ca href\x3d\x22/u/grosser.michael/\x22\x3eview starred projects\x3c/a\x3e)',
 'Star this project');" width="15" height="15">
 &nbsp;
 <span id="star_msg">
 
 Star this project
 
 </span>
 </td>
 </tr>
 </tbody></table>
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 
 
 <div class="pmeta_bubble_bg">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <table class="pmeta" cellpadding="5">
 
 <tbody><tr>
 <th><span style="white-space: nowrap;">Code License:</span></th>
 <td>
 <a href="http://www.opensource.org/licenses/mit-license.php" rel="nofollow">MIT License</a>
 </td>
 </tr>
 
 
 
 <tr><th>Labels:</th>
 <td id="project_labels">
 
 <a href="http://code.google.com/hosting/search?q=label:ruby">ruby</a>, 
 
 <a href="http://code.google.com/hosting/search?q=label:rails">rails</a>, 
 
 <a href="http://code.google.com/hosting/search?q=label:plugin">plugin</a>, 
 
 <a href="http://code.google.com/hosting/search?q=label:fixtures">fixtures</a>, 
 
 <a href="http://code.google.com/hosting/search?q=label:scenarios">scenarios</a>
 
 </td>
 </tr>
 
 </tbody></table>
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 
 <div class="pmeta_bubble_bg">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <table class="pmeta" cellpadding="5">
 
 
 <tbody><tr><th>Feeds:</th>
 <td><ul>
 <li><a href="http://code.google.com/p/fixture-scenarios/feeds">Project Feeds</a></li>
 </ul></td>
 </tr>
 
 </tbody></table>
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 <div class="pmeta_bubble_bg">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 
 <a style="padding: 6px; float: right;" href="http://code.google.com/p/support/wiki/HowToJoinAProject">How to join?</a>
 
 <table class="pmeta" style="padding: 3px;" cellpadding="3">
 
 <tbody><tr><th colspan="2">Project owners:</th></tr>
 <tr><td style="width: 4em;">&nbsp;</td>
 <td id="owners">
 
 <a href="http://code.google.com/u/mojombo/">mojombo</a>
 
 </td>
 </tr>
 
 
 
 
 </tbody></table>
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
</div>
 <div id="wikicontent" style="padding: 0pt 3em 1.2em 0pt;">
 <p>Copyright (c) 2007 Tom Preston-Werner </p><h1>FixtureScenarios</h1><p>This
plugin allows you to create 'scenarios' which are collections of
fixtures and ruby files that represent a context against which you can
run tests. </p><h2>Disclaimer</h2><p>This software is in Beta. Send feedback to tom at rubyisawesome dot com or find me (mojombo) on irc.freenode.net. </p><h2>Installation</h2><p>FixtureScenarios
should work on both 1.1.6 and edge rails. Currently you must install
this plugin from the subversion repository </p><pre class="code" style="border-left: 3px solid rgb(204, 204, 204); padding: 0.5em; margin-left: 2em;">  script/plugin install http://fixture-scenarios.googlecode.com/svn/trunk/fixture_scenarios</pre><h2>WARNING</h2><p>Because
this plugin clears out fixture data between your test classes, you may
see some of your tests fail after installation. If this occurs, look at
your tests to see if you didn't actually load a required fixture for
that test class. If you forgot to add it and your tests passed anyway
(because of fixture contamination), just add the missing fixture(s) and
you'll be good to go. </p><h2>The Basics</h2><p>To create a scenario,
simply create a subdirectory under test/fixtures in your Rails app. The
name of the subdirectory will be the name of the scenario. Inside this
new directory, you can place fixture files, and/or Ruby files. </p><pre class="code" style="border-left: 3px solid rgb(204, 204, 204); padding: 0.5em; margin-left: 2em;">  [RAILS_ROOT]
  +-test/
    +-fixtures/
      +-brand_new_user/
        +-users.yml
  
  # in users.yml
  borges:
    id: 1
    name: Jorge Luis Borges
    active: 1</pre><p>To load the scenario for testing, you simply use the +scenario+ method instead of the normal +fixtures+ method. </p><pre class="code" style="border-left: 3px solid rgb(204, 204, 204); padding: 0.5em; margin-left: 2em;">  require File.dirname(__FILE__) + '/../test_helper'

  class UserTest &lt; Test::Unit::TestCase
    scenario :brand_new_user

    def test_should_be_active
      assert users(:borges).active?
    end
  end</pre><p>All
of the fixtures placed into your scenario directory will be loaded when
you invoke the +scenario+ method with your scenario name. In addition,
any Ruby files you place in the scenario directory will be run after
the fixtures. You can use a Ruby file to create non-database model
instances, set up relationships between fixtures (instead of creating
fixtures for the join tables), or replace fixtures entirely by creating
your database items with Ruby code. </p><p>In this example, +scenario+ will actually load all fixtures from the fixture directory <strong>and</strong>
your scenario directory. This is useful if you have some fixtures (such
as lookup data) that you'd like to have in most of your scenarios. To
prevent the loading of fixtures in the fixtures root directory, use the
&lt;tt&gt;:root&lt;/tt&gt; option. This can be very useful if you still
have tests using regular fixtures. </p><pre class="code" style="border-left: 3px solid rgb(204, 204, 204); padding: 0.5em; margin-left: 2em;">  scenario :brand_new_user, :root =&gt; false</pre><p>To
keep things DRY in your scenarios, you can extend or layer scenarios on
top of each other. Following with our example, to create an
'experienced user' scenario, we could create another subdirectory under
the existing 'brand_new_user' that would contain fixture/Ruby files
that add upon the 'brand new user' scenario. </p><pre class="code" style="border-left: 3px solid rgb(204, 204, 204); padding: 0.5em; margin-left: 2em;">  [RAILS_ROOT]
  +-test/
    +-fixtures/
      +-brand_new_user/
        +-users.yml
        +-experienced_user/
          +-articles.yml</pre><p>Now
when you load the +experienced_user+ scenario, it will load any
fixture/Ruby files in 'fixtures', then in 'brand_new_user', then in
'experienced_user'! Building off of your existing scenarios keeps data
redundancy to a minimum, and makes it easy to change data for multiple
scenarios simultaneously. </p><h2>Testing your scenarios</h2><p>Scenarios
represent your assumptions about a given context. If these assumptions
are wrong, your tests will be inaccurate. Your scenarios should be unit
tested along with the rest of your application. This plugin allows you
to place scenario tests in a 'scenario' directory under your 'test'
directory. </p><pre class="code" style="border-left: 3px solid rgb(204, 204, 204); padding: 0.5em; margin-left: 2em;">  [RAILS_ROOT]
  +-test/
    +-scenario/
      +-brand_new_user_test.rb
      +-experienced_user_test.rb</pre><p>You can run these tests with rake. </p><pre class="code" style="border-left: 3px solid rgb(204, 204, 204); padding: 0.5em; margin-left: 2em;">  rake test:scenarios  # run just scenario tests
  rake                 # run unit, functional, integration, and scenario tests</pre><p>Scenario
tests will protect you from accidentally changing your assumptions in a
dangerous or transparent way when modifying existing scenarios. </p>
 </div>
<br><br><br><br><br><br><br><br>
<script src="fixture-scenarios%20-%20Google%20Code_files/prettify.js"></script>
<script type="text/javascript">
 prettyPrint();
</script>
 
 <script type="text/javascript" src="fixture-scenarios%20-%20Google%20Code_files/core_scripts_20081103.js"></script>
 
 
 
 </div>
<div id="footer" dir="ltr">
 
 <div class="text">
 
 Â©2008 Google -
 <a href="http://code.google.com/">Code Home</a> -
 <a href="http://code.google.com/tos.html">Terms of Service</a> -
 <a href="http://www.google.com/privacy.html">Privacy Policy</a> -
 <a href="http://code.google.com/more/">Site Directory</a>
 
 </div>
</div>
<script type="text/javascript">
/**
 * Reports analytics.
 * It checks for the analytics functionality (window._gat) every 100ms
 * until the analytics script is fully loaded in order to invoke siteTracker.
 */
function _CS_reportAnalytics() {
 window.setTimeout(function() {
 if (window._gat) {
 var siteTracker = _gat._getTracker("UA-18071-1");
 siteTracker._initData();
 siteTracker._trackPageview();
 
 } else {
 _CS_reportAnalytics();
 }
 }, 100);
}
</script>

 
 


 
 <div style="display: none;" class="menuDiv instance0"><b style="display: block;" class="categoryTitle projects">Projects</b><div class="menuCategory projects"><a href="http://code.google.com/p/agiledox-rake/" style="display: block;" class="menuItem">agiledox-rake</a><a href="http://code.google.com/p/errorhandler/" style="display: block;" class="menuItem">errorhandler</a><a href="http://code.google.com/p/jqunit/" style="display: block;" class="menuItem">jqunit</a><a href="http://code.google.com/p/labelcheck/" style="display: block;" class="menuItem">labelcheck</a><a href="http://code.google.com/p/protect-data/" style="display: block;" class="menuItem">protect-data</a><a href="http://code.google.com/p/rakes3sync/" style="display: block;" class="menuItem">rakes3sync</a><a href="http://code.google.com/p/simples3sync/" style="display: block;" class="menuItem">simples3sync</a><a href="http://code.google.com/p/small-plugins/" style="display: block;" class="menuItem">small-plugins</a><a href="http://code.google.com/p/tdd-with-ror/" style="display: block;" class="menuItem">tdd-with-ror</a></div><div class="menuCategory controls"><hr class="menuSeparator"><a href="http://code.google.com/hosting/" style="display: block;" class="menuItem">Find or start a project...</a></div></div></body></html>