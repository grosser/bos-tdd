var dp={sh:{Toolbar:{},Utils:{},RegexLib:{},Brushes:{},Strings:{AboutDialog:'<html><head><title>About...</title></head><body class="dp-about"><table cellspacing="0"><tr><td class="copy"><p class="title">dp.SyntaxHighlighter</div><div class="para">Version: {V}</p><p><a href="http://www.dreamprojections.com/syntaxhighlighter/?ref=about" target="_blank">http://www.dreamprojections.com/syntaxhighlighter</a></p>&copy;2004-2008 Alex Gorbatchev.</td></tr><tr><td class="footer"><input type="button" class="close" value="OK" onClick="window.close()"/></td></tr></table></body></html>'},ClipboardSwf:null,Version:"1.5.2"}};dp.SyntaxHighlighter=dp.sh;dp.sh.Toolbar.Commands={ExpandSource:{label:"+ expand source",check:function(a){return a.collapse},func:function(b,a){b.parentNode.removeChild(b);a.div.className=a.div.className.replace("collapsed","")}},ViewSource:{label:"view plain",func:function(b,a){var d=dp.sh.Utils.FixForBlogger(a.originalCode).replace(/</g,"&lt;"),c;c=window.open("","_blank","width=750, height=400, location=0, resizable=1, menubar=0, scrollbars=0");c.document.write('<textarea style="width:99%;height:99%">'+d+"</textarea>");c.document.close()}},CopyToClipboard:{label:"copy to clipboard",check:function(){return window.clipboardData!=null||dp.sh.ClipboardSwf!=null},func:function(b,a){var d,c;d=dp.sh.Utils.FixForBlogger(a.originalCode).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");if(window.clipboardData){window.clipboardData.setData("text",d)}else{if(dp.sh.ClipboardSwf!=null){c=a.flashCopier;if(c===null){c=document.createElement("div");a.flashCopier=c;a.div.appendChild(c)}c.innerHTML='<embed src="'+dp.sh.ClipboardSwf+'" FlashVars="clipboard='+encodeURIComponent(d)+'" width="0" height="0" type="application/x-shockwave-flash"></embed>'}}alert("The code is in your clipboard now")}},PrintSource:{label:"print",func:function(b,a){var c=document.createElement("IFRAME"),d=null;c.style.cssText="position:absolute;width:0px;height:0px;left:-500px;top:-500px;";document.body.appendChild(c);d=c.contentWindow.document;dp.sh.Utils.CopyStyles(d,window.document);d.write('<div class="'+a.div.className.replace("collapsed","")+' printing">'+a.div.innerHTML+"</div>");d.close();c.contentWindow.focus();c.contentWindow.print();alert("Printing...");document.body.removeChild(c)}},About:{label:"?",func:function(a){var b=window.open("","_blank","dialog,width=300,height=150,scrollbars=0"),c=b.document;dp.sh.Utils.CopyStyles(c,window.document);c.write(dp.sh.Strings.AboutDialog.replace("{V}",dp.sh.Version));c.close();b.focus()}}};dp.sh.Toolbar.Create=function(b){var d=document.createElement("DIV"),a,c;d.className="tools";for(a in dp.sh.Toolbar.Commands){c=dp.sh.Toolbar.Commands[a];if(c.check!=null&&!c.check(b)){continue}d.innerHTML+='<a href="#" onclick="dp.sh.Toolbar.Command(\''+a+"',this);return false;\">"+c.label+"</a>"}return d};dp.sh.Toolbar.Command=function(a,b){var c=b;while(c!=null&&c.className.indexOf("dp-highlighter")==-1){c=c.parentNode}if(c!=null){dp.sh.Toolbar.Commands[a].func(b,c.highlighter)}};dp.sh.Utils.CopyStyles=function(a,d){var b=d.getElementsByTagName("link"),c;for(c=0;c<b.length;c++){if(b[c].rel.toLowerCase()=="stylesheet"){a.write('<link type="text/css" rel="stylesheet" href="'+b[c].href+'"></link>')}}};dp.sh.Utils.FixForBlogger=function(a){return(dp.sh.isBloggerMode==true)?a.replace(/<br\s*\/?>|&lt;br\s*\/?&gt;/gi,"\n"):a};dp.sh.RegexLib={MultiLineCComments:new RegExp("/\\*[\\s\\S]*?\\*/","gm"),SingleLineCComments:new RegExp("//.*$","gm"),SingleLinePerlComments:new RegExp("#.*$","gm"),DoubleQuotedString:new RegExp('"(?:\\.|(\\\\\\")|[^\\""\\n])*"',"g"),SingleQuotedString:new RegExp("'(?:\\.|(\\\\\\')|[^\\''\\n])*'","g")};dp.sh.Match=function(c,a,b){this.value=c;this.index=a;this.length=c.length;this.css=b};dp.sh.Highlighter=function(){this.noGutter=false;this.addControls=true;this.collapse=false;this.tabsToSpaces=true;this.wrapColumn=80;this.showColumns=true};dp.sh.Highlighter.SortCallback=function(b,a){if(b.index<a.index){return -1}else{if(b.index>a.index){return 1}else{if(b.length<a.length){return -1}else{if(b.length>a.length){return 1}}}}return 0};dp.sh.Highlighter.prototype.CreateElement=function(b){var a=document.createElement(b);a.highlighter=this;return a};dp.sh.Highlighter.prototype.GetMatches=function(c,b){var a=null;while((a=c.exec(this.code))!=null){this.matches[this.matches.length]=new dp.sh.Match(a[0],a.index,b)}};dp.sh.Highlighter.prototype.AddBit=function(e,c){var d,a,b;if(e===null||e.length===0){return}d=this.CreateElement("SPAN");e=e.replace(/ /g,"&nbsp;");e=e.replace(/</g,"&lt;");e=e.replace(/\n/gm,"&nbsp;<br>");if(c!=null){if((/br/gi).test(e)){a=e.split("&nbsp;<br>");for(b=0;b<a.length;b++){d=this.CreateElement("SPAN");d.className=c;d.innerHTML=a[b];this.div.appendChild(d);if(b+1<a.length){this.div.appendChild(this.CreateElement("BR"))}}}else{d.className=c;d.innerHTML=e;this.div.appendChild(d)}}else{d.innerHTML=e;this.div.appendChild(d)}};dp.sh.Highlighter.prototype.IsInside=function(a,f){var e=f-30,b;if(!a||a.length==0){return false}while(e<f+20){e++;if((b=this.matches[e])&&b.length){if((a.index>b.index)&&(a.index<b.index+b.length)){return true}}}return false};dp.sh.Highlighter.prototype.ProcessRegexList=function(){for(var a=0;a<this.regexList.length;a++){this.GetMatches(this.regexList[a].regex,this.regexList[a].css)}};dp.sh.Highlighter.prototype.ProcessSmartTabs=function(f){var b=f.split("\n"),a="",g=4,d="\t",c;function h(j,p,n){var o=j.substr(0,p),m=j.substr(p+1,j.length),k="",l;for(l=0;l<n;l++){k+=" "}return o+k+m}function e(i,k){if(i.indexOf(d)==-1){return i}var l=0,j;while((l=i.indexOf(d))!=-1){j=k-l%k;i=h(i,l,j)}return i}for(c=0;c<b.length;c++){a+=e(b[c],g)+"\n"}return a};dp.sh.Highlighter.prototype.SwitchToList=function(){var e,b,h,d,g,c,a,f;e=this.div.innerHTML.replace(/<(br)\/?>/gi,"\n");b=e.split("\n");if(this.addControls==true){this.bar.appendChild(dp.sh.Toolbar.Create(this))}if(this.showColumns){h=this.CreateElement("div");d=this.CreateElement("div");g=10;c=1;while(c<=150){if(c%g===0){h.innerHTML+=c;c+=(c+"").length}else{h.innerHTML+="&middot;";c++}}d.className="cumns";d.appendChild(h);this.bar.appendChild(d)}for(c=0;c<b.length-1;c++){a=this.CreateElement("LI");f=this.CreateElement("SPAN");a.className=(c%2===0)?"alt":"";f.innerHTML=b[c]+"&nbsp;";a.appendChild(f);this.ol.appendChild(a)}this.div.innerHTML=""};dp.sh.Highlighter.prototype.Highlight=function(a){var e,c,b,f,l=0;function h(i){return i.replace(/^\s*(.*?)[\s\n]*$/g,"$1")}function k(i){return i.replace(/\n*$/,"").replace(/^\n*/,"")}function g(t){var m,s,q,p,o,n,r;m=dp.sh.Utils.FixForBlogger(t).split("\n");s=new Array();q=new RegExp("^\\s*","g");p=1000;for(o=0,n=m.length;o<n&&p>0;o++){if(h(m[o]).length===0){continue}r=q.exec(m[o]);if(r!=null&&r.length>0){p=Math.min(r[0].length,p)}}if(p>0){for(o=0,n=m.length;o<n;o++){m[o]=m[o].substr(p)}}return m.join("\n")}function d(i,m,j){return i.substr(m,j-m)}if(a===null){a=""}this.originalCode=a;this.code=k(g(a));this.div=this.CreateElement("DIV");this.bar=this.CreateElement("DIV");this.ol=this.CreateElement("OL");this.matches=new Array();this.div.className="dp-highlighter";this.div.highlighter=this;this.bar.className="bar";if(this.firstLine!=null){this.ol.start=this.firstLine}if(this.CssClass!=null){this.ol.className=this.CssClass}if(this.collapse){this.div.className+=" collapsed"}if(this.noGutter){this.div.className+=" nogutter"}if(this.tabsToSpaces==true){this.code=this.ProcessSmartTabs(this.code)}this.ProcessRegexList();if(this.matches.length===0){this.AddBit(this.code,null);this.SwitchToList();this.div.appendChild(this.bar);this.div.appendChild(this.ol);return}this.matches=this.matches.sort(dp.sh.Highlighter.SortCallback);for(e=0,c=this.matches.length;e<c;e++){b=this.matches[e];if(b&&this.IsInside(b,e)){this.matches[e]=""}}for(e=0,c=this.matches.length;e<c;e++){f=this.matches[e];if(f==null||f.length==0){continue}this.AddBit(d(this.code,l,f.index),null);this.AddBit(f.value,f.css);l=f.index+f.length}this.AddBit(this.code.substr(l),null);this.SwitchToList();this.div.appendChild(this.bar);this.div.appendChild(this.ol)};dp.sh.Highlighter.prototype.GetKeywords=function(a){return"\\b"+a.replace(/ /g,"\\b|\\b")+"\\b"};dp.sh.BloggerMode=function(){dp.sh.isBloggerMode=true};dp.sh.HighlightAll=function(x,v,t,p,e,a){var f,w,u,g,b,o,n,c,d,r,k,s,l;function h(){var y=arguments,z;for(z=0;z<y.length;z++){if(y[z]===null){continue}if(typeof(y[z])=="string"&&y[z]!=""){return y[z]+""}if(typeof(y[z])=="object"&&y[z].value!=""){return y[z].value+""}}return null}function q(A,z){for(var y=0;y<z.length;y++){if(z[y]==A){return true}}return false}function j(z,D,y){var B=new RegExp("^"+z+"\\[(\\w+)\\]$","gi"),C=null,A;for(A=0;A<D.length;A++){if((C=B.exec(D[A]))!=null){return C[1]}}return y}function m(C,z,B){var y=document.getElementsByTagName(B),A;for(A=0;A<y.length;A++){if(y[A].getAttribute("name")==z){C.push(y[A])}}}f=[];w=null;u={};g="innerHTML";m(f,x,"pre");m(f,x,"textarea");if(f.length===0){return}for(b in dp.sh.Brushes){o=dp.sh.Brushes[b].Aliases;if(o===null){continue}for(n=0;n<o.length;n++){u[o[n]]=b}}for(n=0;n<f.length;n++){c=f[n];d=h(c.attributes["class"],c.className,c.attributes.language,c.language);if(d===null){continue}d=d.split(":");l=d[0].toLowerCase();if(u[l]===null){continue}w=new dp.sh.Brushes[u[l]]();c.style.display="none";if(typeof(v)==="undefined"){w.noGutter=q("nogutter",d)}else{w.noGutter=!v}if(typeof(t)==="undefined"){w.addControls=!q("nocontrols",d)}else{w.addControls=t}if(typeof(p)==="undefined"){w.collapse=q("collapse",d)}else{w.collapse=p}if(typeof(a)==="undefined"){w.showColumns=q("showcolumns",d)}else{w.showColumns=a}r=document.getElementsByTagName("head")[0];if(w.Style&&r){s=document.createElement("style");s.setAttribute("type","text/css");if(s.styleSheet){s.styleSheet.cssText=w.Style}else{k=document.createTextNode(w.Style);s.appendChild(k)}r.appendChild(s)}w.firstLine=(e===null)?parseInt(j("firstline",d,1)):e;w.Highlight(c[g]);w.source=c;c.parentNode.insertBefore(w.div,c)}};